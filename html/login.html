<!DOCTYPE html>

<html>
<head>
    <title>Login</title>
    <link rel="stylesheet" href="../css/stylesheet.css">
</head>
<body>
    <form>
        <div class="title-container">
            <div><img src="https://cdn.pixabay.com/photo/2016/10/27/09/35/book-1773756_1280.png"></div>
            <div><h1>Entrar</h1></div>
        </div>
        <div>
            <label>E-mail</label><br>
            <input type="email" name="email" onChange="validateFiels()" placeholder="seu@email.com">
        </div>
        <div>
            <label>Senha</label><br>
            <input type="password" name="password" onChange="validateFiels()" placeholder="senha"></br>
            <button type="submit" name="forget-password" id="recover-password" class="clear" disabled="true"
                >Esqueci minha senha</button>
        </div>
        <div>
            <button type="submit" name="login" id="login-button" class="solid" disabled="true">Entrar</button>
        </div>
        <div>
            <button type="submit" name="register" class="outline">Registrar</button>
        </div>
    </form>
</body>

<script>

    validateFields = () => {
        const validEmail = isValidEmail()
        document.getElementById("login-button").disabled = !validEmail
        
        const validPassword = isValidPassword()
        document.getElementById("recover-password").disabled = !validPassword
    }

    isValidPassword = () => {
        const password = document.getElementById("recover-password").value
        if(!password) {
            return false;
        }
        return true;
    }

    isValidEmail = () => {
        const email = document.getElementById("login-button").value
        if(!email) {
            return false;
        } 
        return validatedEmail(email)
    }

    // test realiza busca pelo padrÃ£o (regex) retornando true ou false
    validatedEmail = email => /\S+@\S+\.\S+/.test(email)
</script>
</html>